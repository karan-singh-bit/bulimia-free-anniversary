<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>One Year Strong ‚ù§Ô∏è</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Confetti Canvas -->
  <canvas id="confetti-canvas"></canvas>

  <header>
    <h1>
      Happy 1 Year Bulimia-Free üéâ
      <img src="celebration.gif" alt="Celebration GIF" class="header-gif" />
    </h1>
    <p>You did it, and I couldn‚Äôt be prouder of you.</p>
  </header>

  <div class="gallery-layout">
    <img src="photo-left.jpg" alt="Memory left" class="side-photo" />
    
    <section class="message-wrapper">
      <div class="envelope" title="Open me">
        <div class="envelope-flap"></div>
        <div class="envelope-body"></div>
        <div class="envelope-text">Open Me</div>
      </div>
      <section class="message letter">
        <h2>Dear Joanna,</h2>
        <p>
          Today is such a big day! I want to tell you how proud I am of you. It is officially one year of healing yourself. Achieving this goal is not only impressive but shows how strong you are as a person. I am so proud of you for achieving this goal and proud of every single moment big and small that you faced through this journey.
        </p>
        <p>
          I have seen all ways you faced challenges and there was only one person that came out on top. Your strength makes you extremely extraordinary. With all the added challenges you faced. Coming out with your head held high and the beautiful smile you have makes this day even more special.
        </p>
        <p>
          This journey is fully yours and I am so happy to be beside you and remind you how special you are on the days you may forget. Or on days like this that we get to celebrate.
        </p>
        <p>
          Here‚Äôs to one year clean my queen, You have kicked bulimia in the butt. And I keep saying but I am proud so proud (and very obsessed).
        </p>
        <p>
          You have turned chaos into progress.
        </p>
        <p>
          You‚Äôre strong, you‚Äôre weird, and sweet as pie.
        </p>
        <p>
          Ain‚Äôt I just the luckiest kinda guy.
        </p>
        <p>
          I love you foreverever,<br />
          ‚Äì Karan
        </p>
      </section>
    </section>

    <div class="right-photos">
      <img src="photo-right-top.jpg" alt="Memory right top" class="side-photo" />
      <img src="photo-right-bottom.jpg" alt="Memory right bottom" class="side-photo" />
    </div>
  </div>

  <footer>
    ¬© 2025 ‚Ä¢ One Year Strong ‚Ä¢ With love and pride
  </footer>

  <script>
    // Confetti Animation
    const confettiCanvas = document.getElementById('confetti-canvas');
    const ctx = confettiCanvas.getContext('2d');
    let confettiParticles = [];
    let confettiAnimationId;

    function resizeCanvas() {
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    class ConfettiParticle {
      constructor() {
        this.x = Math.random() * confettiCanvas.width;
        this.y = Math.random() * confettiCanvas.height - confettiCanvas.height;
        this.size = (Math.random() * 8) + 5;
        this.speed = (Math.random() * 3) + 2;
        this.angle = Math.random() * 360;
        this.color = `hsl(${Math.floor(Math.random() * 360)}, 70%, 60%)`;
        this.opacity = 1;
        this.drift = (Math.random() - 0.5) * 2;
      }
      update() {
        this.y += this.speed;
        this.x += this.drift;
        this.angle += 10;
        if (this.y > confettiCanvas.height) {
          this.y = -this.size;
          this.x = Math.random() * confettiCanvas.width;
        }
      }
      draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.angle * Math.PI / 180);
        ctx.fillStyle = this.color;
        ctx.globalAlpha = this.opacity;
        ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size * 0.4);
        ctx.restore();
      }
    }

    function startConfetti() {
      confettiParticles = [];
      for (let i = 0; i < 100; i++) {
        confettiParticles.push(new ConfettiParticle());
      }
      confettiCanvas.style.display = 'block';
      animateConfetti();

      // Stop confetti after 5 seconds
      setTimeout(() => {
        cancelAnimationFrame(confettiAnimationId);
        confettiCanvas.style.display = 'none';
      }, 5000);
    }

    function animateConfetti() {
      ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
      confettiParticles.forEach(p => {
        p.update();
        p.draw();
      });
      confettiAnimationId = requestAnimationFrame(animateConfetti);
    }

    // Envelope open/close logic
    const envelope = document.querySelector('.envelope');
    const letter = document.querySelector('.letter');
    let isOpen = false;

    envelope.addEventListener('click', () => {
      if (isOpen) return;
      isOpen = true;
      letter.classList.add('show');
      envelope.classList.add('hide');
      startConfetti();
    });

    letter.addEventListener('click', () => {
      if (!isOpen) return;
      isOpen = false;
      letter.classList.remove('show');
      envelope.classList.remove('hide');
      cancelAnimationFrame(confettiAnimationId);
      confettiCanvas.style.display = 'none';
    });
  </script>
</body>
</html>
